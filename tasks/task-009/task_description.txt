task_description: |
  Task: Advanced Mathematical Operations with Validation
  
  Instructions:
  Implement three advanced mathematical endpoints with strict input validation and specific output requirements.
  Each endpoint must validate its inputs and return appropriate HTTP status codes.

  Requirements (as tested):

  1. POST /adv/matrix_operations
  Body: {
    "matrix1": [[Number]],  // 2D array of numbers
    "matrix2": [[Number]],  // 2D array of numbers
    "operation": "add" | "multiply" | "determinant"  // Operation to perform
  }
  
  - Validates both matrices are valid (rectangular, all elements are numbers)
  - For 'add' and 'multiply': matrices must have compatible dimensions
  - For 'determinant': matrix must be square
  - Returns the result matrix or single number for determinant
  - Returns 400 for invalid inputs or incompatible operations

  2. GET /adv/continued_fraction
  Query: 
    n: positive integer (n â‰¥ 1)
    terms: comma-separated list of integers (at least 1 term)
  
  - Computes the continued fraction representation of the square root of n
  - Returns {"period": [a0, a1, a2, ...]} where a0 is the integer part and a1..an is the repeating block
  - If terms is provided, returns the rational approximation using the specified number of terms
  - Returns 400 for invalid inputs (n not a perfect square, negative, or non-integer)

  3. GET /adv/diophantine
  Query:
    a: integer coefficient of x
    b: integer coefficient of y
    c: integer constant
  
  - Solves the Diophantine equation: ax + by = c
  - Returns {"solution": {"x": x0, "y": y0, "general_x": x0 + (b/d)*t, "general_y": y0 - (a/d)*t}}
  - d is the greatest common divisor of a and b
  - Returns 400 if no integer solution exists or invalid inputs

  Implementation Notes:
  - All endpoints must validate inputs and return appropriate HTTP status codes
  - Matrix operations should handle large matrices efficiently (up to 100x100)
  - Continued fraction should be efficient for n up to 10^6
  - Diophantine solver should handle large coefficients (up to 10^9)
  - Error responses should be in the format {"error": "description"}
  - All numeric outputs should be in exact form (fractions rather than decimals where applicable)

  Anti-cheating measures:
  - Inputs are dynamically generated with randomized values in each test run
  - Matrix operations test with random dimensions and values
  - Continued fraction tests use random n values with known patterns
  - Diophantine equations are generated with known solutions
  - Edge cases are randomly interleaved with normal test cases
  - All solutions must process arbitrary valid inputs within constraints
  - Any attempt to hardcode responses will be detected and penalized
  - Focus on general algorithms rather than specific test cases

difficulty: hard
category: Feature
tags: [node, express, algorithms, math, matrices, number-theory]
parser_name: pytest

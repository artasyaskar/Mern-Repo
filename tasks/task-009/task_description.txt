task_description: |
task_description: |
  Task: Track digits inside shifting segments of info

  Instructions:
    Add a new endpoint that works out rolling numbers from integer lists using a fixed-size window, with strict checks built in. Focus on correct output plus clear steps; follow the examples below exactly.

  Requirements (as tested):

    - GET /adv/rolling_stats
      Query parameters:
        - nums: 
            description: >
              A list of full numbers separated by commas (no spaces, no decimals). 
              Requires at least k entries. Works with commas alone. Nothing else permitted. 
              Must include k values or more. Digits remain clear - no halves or empty spots. 
              Sequence continues smoothly. Just numbers and commas are used.
        - k: 
            description: >
              The window size, telling how many things to check at once. Must be 3 or more, up to the size of nums.
        - ddof:
            description: >
              A value you can pick, most often 1. Must satisfy 0 <= ddof < k.

  Validation checks:
    - Return HTTP 400 if:
      - nums appears but is blank, contains gaps, decimals, or invalid characters.
      - k appears but is not a full number, is less than 3, or exceeds the total count of nums.
      - ddof is not an integer or does not satisfy 0 <= ddof < k.

  Computation rules:
    - Treat every window as a group of k pieces lined up inside nums.
    - For every window, calculate:
      - average: sum of numbers divided by number of items
      - spread: distance of numbers from the middle value
      - stddev: square root of variance (using k - ddof)
    - Response JSON structure:
      {
        "mean": [m0, m1, ...],
        "variance": [v0, v1, ...],
        "stddev": [s0, s1, ...]
      }
      Each number aligns with its moving frame.

  Extra features:
    - Handles large numbers (~1 billion) without breaking.
    - Fast for lists under 2000 entries with k around 50 (â‰ˆ2 seconds execution).

  Notes:
    - Focus mainly on server/routes/advanced.js and server/services/calculator.js
    - Optionally, server/middleware/verify.js can be used for checks.
    - Use straightforward O(n*k) methods; faster solutions are fine.

difficulty: medium
category: Feature
tags: [node, express, statistics]
parser_name: pytest

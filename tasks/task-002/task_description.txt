task_description: |
  Task: Implement robust quantile computation service
  Instructions:
  Create a fresh endpoint figuring out quantiles through dual methods - while enforcing tight checks.
  Requirements (as tested):
  - POST /adv/quantiles
    Body (JSON): {
      "numbers": array of numeric values, length >= 2,
      "method": optional string, one of {"tukey", "linear"}, defaults to "tukey",
      "percentiles": optional array of integers in [0, 100], defaults to [25, 50, 75]
    }
    Behavior:
    - Validate input strictly. Reject when:
      - "numbers" is missing, not an array, contains non-numeric entries, or has length < 2
    - "method" isn't part of the allowed terms
    - "percentiles" includes numbers below zero or above hundred, also items that are not whole numbers
    Line up numbers from smallest to largest before you use them.
    - method="tukey":
      Use Tukey’s approach - break up the data, then grab the middle value from each part.
      If N’s odd, leave the middle number out when you split it into two sides.
      If N’s even, cut it straight down the middle - find the pair of center numbers next.
    - method="linear":
      Slide through each spot using a straightforward mix - hit every point. Link them with a smooth path, no breaks or skips.
      At spot p - ranging from 0 up to 100 - the value of i is about (p divided by 100) times (N minus 1), sitting somewhere close to neighboring items.
      Step up from floor(i) toward ceil(i), easing through every stage along the way.
    Response (JSON): {"25": 2, "50": 3, "75": 4}

  Notes:
  - Focus your changes in server/routes/advanced.js and server/services/calculator.js. You may handle validation inline in the route; updating middleware is optional and not required by tests.

difficulty: hard
category: Feature
tags: [node, express, statistics]
parser_name: pytest

task_description: |
  Task: Implement robust quantile computation service
  Instructions:
  Create a fresh endpoint figuring out quantiles through dual methods - while enforcing tight checks.
  Requirements (as tested):
  - POST /adv/quantiles
    Body: {
      digits: a group of numbers – requires no fewer than two items
      method: a string set to "tukey" or "linear" – it's optional, defaults to "tukey" when missing
      percentiles: pick whole numbers from 0 up to 100 – goes with [25, 50, 75] if not told otherwise
    }
    Behavior:
    - Check the details bit by bit. Leave it behind when:
      If no number's given, it doesn't count as a list - includes non-numbers, or simply misses enough items
    - "method" isn't part of the allowed terms
    - "percentiles" includes numbers below zero or above hundred, also items that are not whole numbers
    Line up numbers from smallest to largest before you use them.
    - method="tukey":
      Use Tukey’s approach - break up the data, then grab the middle value from each part.
      If N’s odd, leave the middle number out when you split it into two sides.
      If N’s even, cut it straight down the middle - find the pair of center numbers next.
    - method="linear":
      Slide through each spot using a straightforward mix - hit every point. Link them with a smooth path, no breaks or skips.
      At spot p - ranging from 0 up to 100 - the value of i is about (p divided by 100) times (N minus 1), sitting somewhere close to neighboring items.
      Step up from floor(i) toward ceil(i), easing through every stage along the way.
    {"25": 2, "50": 3, "75": 4}.

  Notes:
  - Just tweak: server/routes/advanced.js, after that update server/services/calculator.js, also give server/middleware/validate.js a quick edit
  Keep things running fine with big loads - results stay solid, no stumbles or slowing down.

difficulty: hard
category: Feature
tags: [node, express, statistics]
parser_name: pytest

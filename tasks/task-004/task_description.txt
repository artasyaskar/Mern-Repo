task_description: |
  Task: Number theory utilities - Euler's totient, modular inverse, and CRT
  Instructions:
  Set up the links underneath using the precise input/output formats along with the required check rules. Follow the structure exactly as shown.

  Requirements (as tested):

  - GET /adv/phi
    Query parameters:
    - n: needed, must be a whole number above zero, provided as basic digit text (pattern: ^-?\d+$)
      Examples that don't work: "10.0", 3.5, null, undefined, 0, or negative values.
    Behavior:
    - If n isn't in standard whole-number form or it's less than or equal to zero, send back HTTP 400.
    - Otherwise return Euler's totient φ(n).
    Response JSON:
    - { "outcome": number }

  - GET /adv/modinv
    Query parameters:
    - a: needed whole number
    - m: an integer you need
    Behavior:
    - If gcd(a, m) equals 1, return the modular inverse of a mod m, adjusted to fit within [0, m-1].
    - If gcd(a, m) isn’t 1, send back HTTP 400.
    Response JSON:
    - { "outcome": numeric value }

  - POST /adv/crt
    Request body (JSON):
    - { "congruences": [ { "a": int, "m": int }, ... ] }
    Validation rules:
    - The body should have a list called "congruences" with at least two items.
    - Every entry must have whole-number values for a and m.
    - All moduli m must share no common factors besides one; otherwise send back HTTP 400.
    Behavior:
    - Solve x ≡ a_i (mod m_i) and return the smallest non-negative solution x in [0, M-1],
      where M is the product of all the moduli.
    Response JSON:
    - { "x": value, "modulus": size }

  Files to edit (only these):
  - server/routes/advanced.js
  - server/services/calculator.js
  - server/middleware/validate.js

difficulty: hard
category: Feature
tags: [node, express, algorithms, number-theory]
parser_name: pytest

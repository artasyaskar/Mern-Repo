task_description: |
  Task: Number theory utilities - Euler's totient, modular inverse, and CRT
  Instructions:
  Go step by step - focus on each piece without rushing, or stuff will go wrong.

  Requirements (as tested):

  - GET /adv/phi  
    n means a whole number greater than zero - think of it like counting steps forward  
    Behavior:  
    If n's less than or equal to zero, return 400. Or else - if it’s not an integer - give back 400.  
    Or else, give back Euler’s totient function φ(n).  
      { "outcome": 123 }

  - GET /adv/modinv  
    a is just some regular number, whereas m stands for a different one  
    Behavior:  
    If gcd(a, m) equals 1, give back the modular inverse of a modulo m; otherwise, make sure outputs stay from 0 up to m minus 1.  
    If gcd(a, m) doesn't equal 1, then give back 400. Otherwise, skip it.  
      { "result": 123 }

  - POST /adv/crt  
    Body (JSON): { "congruences": [ {"a": number, "b": number}, plus another one ] }  
    Behavior:  
    A tiny chunk sits just beside a big section. While one grabs a marker, someone else tries a different approach.  
    Make sure every number stands alone without matching pieces from others - if not, send 200. If just a pair shares a split bigger than one, shoot back 400.  
    Look for the tiniest x - could be zero or bigger - that’s just under M by a single step. Here, M is built by taking each modulus and multiplying them together instead.  
      {x: value, modulus: size}

  Keep this in mind - checks miss these  
  Picking m larger than 1 typically plays well with modinv - otherwise things can go sideways quick. If you ignore this, outputs might swing hard without warning. Go bigger than one unless surprise twists don't bother you. Stay over 1 and dodge the chaos.  
  You could look at the numbers carefully - or just sign off on them right inside the process.  
  Folks usually find φ by breaking down numbers, then apply the Extended Euclidean method to uncover modular inverses - these flip-sides help crack CRT problems now and then.  

  Edit just these files:
  - server/routes/advanced.js  
  - server/services/calculator.js  
  - server/middleware/validate.js

difficulty: hard
category: Feature
tags: [node, express, algorithms, number-theory]
parser_name: pytest

task_description: |
  Task: Number theory utilities - Euler's totient, modular inverse, and CRT
  Instructions:
  Implement endpoints with correct behavior and clear validation.
  Requirements (as tested):

  - GET /adv/phi
    Query: n (positive integer)
    Behavior:
    - Return 400 when n is not a positive integer.
    - Return Euler's totient φ(n).
    Response: { "result": number }

  - GET /adv/modinv
    Query: a (integer), m (integer)
    Behavior:
    - When gcd(a, m) == 1, return the modular inverse of a mod m, normalized to [0, m-1].
    - When gcd(a, m) != 1, return 400.
    Response: { "result": number }

  - POST /adv/crt
    Body (JSON): { "congruences": [ {"a": int, "m": int}, ... ] }
    Behavior:
    - Validate body shape with at least two congruences.
    - Validate pairwise-coprime moduli; otherwise 400.
    - Return the smallest non-negative solution x in [0, M-1] and combined modulus M = product of moduli.
    Response: { "x": number, "modulus": number }

  Notes (not enforced by tests):
  - Prefer to validate m > 1 for modinv.
  - You may use a strict integer-only query validator; inline validation is also acceptable.
  - Typical implementations: φ via factorization (O(√n)), modinv via Extended Euclid, CRT via modular inverses.

  difficulty: hard
  category: Feature
  tags: [node, express, algorithms, number-theory]
  parser_name: pytest

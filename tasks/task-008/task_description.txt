task_description: |
  Task: Set up three check points - each one checks inputs and, when appropriate, returns
  HTTP 400 on bad data.

  Instructions:
  Launch or update endpoints so they perform simple validation and, where covered by tests,
  basic computations. Aim for direct, practical logic.

  Requirements (as tested):

  1. GET /adv/prime_factors
  Query: n
  Behavior (as tested):
  - Tests call this endpoint with invalid values like n=1 and a non-numeric string, and
    expect HTTP 400.
  - No tests assert specific prime-factor outputs; you only need to ensure these invalid
    inputs return 400.

  2. GET /adv/rolling_median
  Query: nums, k
  Behavior (as tested):
  - Tests send clearly invalid inputs and expect HTTP 400 in these cases:
    - nums="1,2,3", k=2 (even k)
    - nums="", k=1 (empty nums)
  - No tests assert any particular successful median values.

  3. GET /adv/unique_mode
  Query: nums
  Behavior (as tested):
  - If one number appears more often than the rest in a simple list like "1,2,2,3",
    the endpoint should return {"result": 2} with HTTP 200.
  - If there is a tie for highest frequency in a simple case like "2,2,3,3", the
    endpoint should return HTTP 400.
  - A single entry such as nums="42" should return HTTP 200 with {"result": 42}.
  - One malformed list example, such as nums="1,2,3.5", must return HTTP 400; broader
    validation is not asserted by tests.

  Things you may need to adjust:
  - server/middleware/validate.js
  - server/routes/advanced.js
  - server/services/calculator.js

  Notes on tests:
  - Tests use a small, fixed set of examples for each endpoint.
  - Focus on making the logic clear and correct for these representative cases.

difficulty: medium
category: Feature
tags: [node, express, algorithms]
parser_name: pytest

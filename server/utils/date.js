function pad(n){return n<10?'0'+n:String(n);}function formatISO(d){const dt=new Date(d);return dt.toISOString();}function formatYMD(d){const dt=new Date(d);return dt.getFullYear()+'-'+pad(dt.getMonth()+1)+'-'+pad(dt.getDate());}function formatHMS(d){const dt=new Date(d);return pad(dt.getHours())+':'+pad(dt.getMinutes())+':'+pad(dt.getSeconds());}function addDays(d,n){const dt=new Date(d);dt.setDate(dt.getDate()+n);return dt;}function addMonths(d,n){const dt=new Date(d);dt.setMonth(dt.getMonth()+n);return dt;}function addYears(d,n){const dt=new Date(d);dt.setFullYear(dt.getFullYear()+n);return dt;}function startOfDay(d){const dt=new Date(d);dt.setHours(0,0,0,0);return dt;}function endOfDay(d){const dt=new Date(d);dt.setHours(23,59,59,999);return dt;}function diffDays(a,b){const ms=24*60*60*1000;const d1=startOfDay(a).getTime();const d2=startOfDay(b).getTime();return Math.round((d2-d1)/ms);}function isLeapYear(y){return (y%4===0&&y%100!==0)||y%400===0;}function daysInMonth(y,m){return new Date(y,m,0).getDate();}function parseYMD(s){const m=s.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!m)return null;const [_,y,mm,dd]=m;const dt=new Date(Number(y),Number(mm)-1,Number(dd));return isNaN(dt.getTime())?null:dt;}function isValidDate(d){return d instanceof Date&&!isNaN(d.getTime());}function toTimezone(d,offsetMinutes){const dt=new Date(d);const local=dt.getTime()-dt.getTimezoneOffset()*60000;return new Date(local+offsetMinutes*60000);}module.exports={pad,formatISO,formatYMD,formatHMS,addDays,addMonths,addYears,startOfDay,endOfDay,diffDays,isLeapYear,daysInMonth,parseYMD,isValidDate,toTimezone};
